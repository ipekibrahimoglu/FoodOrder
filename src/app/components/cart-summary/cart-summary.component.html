<div class="card mt-4">
  <div class="card-header bg-trakya text-dark">
    <h5 class="mb-0">Sepetinizdeki Ürünler</h5>
  </div>

  <ul class="list-group list-group-flush">
    <li
      *ngFor="let item of cartItems"
      class="list-group-item d-flex align-items-center"
    >
    
      <div class="d-flex align-items-center flex-grow-1">
        <strong class="text-dark">{{ item.menuItem.name }}</strong>
        <strong class="mx-2 text-dark">x{{ item.quantity }}</strong>
      </div>

      <div class="text-end">
        <small class="text-secondary">Ücreti</small><br />
        <strong class="text-dark">
          {{
            (item.menuItem.price * item.quantity)
              | currency: 'TRY' : 'symbol' : '1.2-2'
          }}
        </strong>
      </div>

  
      <div>
        <button
          class="btn btn-sm btn-danger"
          (click)="removeFromCart(item); $event.stopPropagation()"
        >
          Sepetten Çıkar
        </button>
      </div>
    </li>

    <li
      *ngIf="cartItems.length === 0"
      class="list-group-item text-center text-secondary"
    >
      Sepetiniz boş
    </li>
  </ul>

  <!-- Footer: Toplam ve Ödeme Butonu -->
  <div
    *ngIf="cartItems.length > 0"
    class="card-footer d-flex justify-content-between align-items-center"
  >
    <div>
      <strong class="text-dark">Toplam:</strong>
      <strong class="text-dark">{{ total | currency: 'TRY' : 'symbol' : '1.2-2' }}</strong>
    </div>
    <button class="btn btn-success" (click)="completePayment()">
      Ödeme Yap
    </button>
  </div>
</div>

<!-- Ödeme sonrası toast mesajı -->
<div class="custom-toast animate-slide-in" *ngIf="showToast">
  ✅ Ödemeniz başarıyla gerçekleştirildi!
</div>
